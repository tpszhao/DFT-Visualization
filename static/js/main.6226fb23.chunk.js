(this.webpackJsonpfouriercanvas=this.webpackJsonpfouriercanvas||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(3),o=n.n(c),u=n(1);function i(e){var t=Object(r.useState)({x:0,y:0}),n=Object(u.a)(t,2),c=n[0],o=n[1],i={position:"absolute",zIndex:50,left:c.x,top:c.y},l=Object(r.useRef)(null),s=Object(r.useRef)(0),f=Object(r.useRef)(!1),h=function(e){e.preventDefault(),f.current=!1};return a.a.createElement("div",{ref:l,style:i},a.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"lightblue",cursor:"pointer",Width:200,padding:20},onMouseDown:function(e){e.preventDefault(),s.current={x:e.clientX,y:e.clientY},f.current=!0},onMouseMove:function(e){if(e.preventDefault(),f.current){var t=s.current,n=t.x,r=t.y,a=[e.clientX,e.clientY],u=a[0],i=a[1];s.current={x:u,y:i},o({x:c.x+u-n,y:c.y+i-r})}},onMouseUp:h,onMouseLeave:h},"Click Here to Drag"),e.children)}function l(e){var t=e.width,n=e.height,c=e.hide,o=e.addpoint,u={x:t/2,y:n/2},l=Object(r.useRef)(null),s=Object(r.useRef)(!1),f=Object(r.useRef)(null);Object(r.useEffect)((function(){var r=l.current;r.className=e.className,r.width=t,r.height=n;var a=r.getContext("2d");a.resetTransform(),a.clearRect(0,0,t,n),a.translate(u.x,u.y)}),[t,n]);var h=function(e){var t=l.current.getBoundingClientRect(),n=t.top,r=t.left;return{x:e.clientX-r-u.x,y:e.clientY-n-u.y}},v=function(e){s.current=!1,o(0,0,!0,"new")};return a.a.createElement(a.a.Fragment,null,a.a.createElement("canvas",{ref:l,onMouseMove:function(e){if(s.current){var t=l.current.getContext("2d"),n=h(e),r=n.x,a=n.y;t.beginPath(),t.moveTo(f.current.x,f.current.y),t.lineTo(r,a),f.current={x:r,y:a},t.stroke(),o(r,a,!0)}},onMouseUp:v,onMouseDown:function(e){s.current=!0;var t=h(e),n=t.x,r=t.y;o(n,r,!1),f.current={x:n,y:r}},onMouseLeave:v,style:{display:c?"none":""}}),a.a.createElement(i,null,a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.a.createElement("button",{onClick:e.toggleanimation},c?"Stop":"Start"," Animation"),a.a.createElement("button",{onClick:function(){o(0,0,!1,"reset");var e=l.current.getContext("2d");e.resetTransform(),e.clearRect(0,0,t,n),e.translate(u.x,u.y)},style:{display:c?"none":""}},"Clear"))))}function s(e){var t=e.path,n=void 0===t?[]:t,c=e.animate,o=void 0!==c&&c,i=e.width,l=e.height,s=Object(r.useState)(0),f=Object(u.a)(s,2),h=f[0],v=f[1],d=Object(r.useRef)(null),m=Object(r.useRef)(null),x={x:i/2,y:l/2},g=Object(r.useRef)([]);Object(r.useEffect)((function(){[d,m].forEach((function(t){var n=t.current;n.className=e.className,n.width=i,n.height=l;var r=n.getContext("2d");r.resetTransform(),r.translate(x.x,x.y),r.clearRect(-x.x,-x.y,i,l)}))}),[i,l]),Object(r.useEffect)((function(){d.current.getContext("2d").clearRect(-x.x,-x.y,i,l),j(),v(0)}),[n]),Object(r.useEffect)((function(){var e=null;return o&&n.length>0?e=setInterval((function(){y(),b(),v((function(e){return e+1}))}),Math.min(1e4/n.length,50)):(clearInterval(e),d.current.getContext("2d").clearRect(-x.x,-x.y,i,l),m.current.getContext("2d").clearRect(-x.x,-x.y,i,l)),function(){return clearInterval(e)}}),[o,h]);var b=function(){var e=m.current.getContext("2d"),t=n.length;if(t>1){var r=h%t;switch(r>0){case!1:e.clearRect(-x.x,-x.y,i,l);break;case!0:var a=n[r].connected?(r-1)%t:r;e.beginPath(),e.moveTo(n[a].x,n[a].y),e.lineTo(n[r].x,n[r].y),e.stroke()}}},y=function(){var e=d.current.getContext("2d");e.clearRect(-x.x,-x.y,i,l),e.strokeStyle="#669999";var t=g.current,r=t.length;if(r>1){for(var a=0,c=0,o=n[h%r],u=o.x,s=o.y,f=0;f<r;f++){var v=t[f].norm/r,m=t[f].angle,b=t[f].speed;e.beginPath(),e.arc(a,c,v,0,2*Math.PI),e.stroke(),e.beginPath(),e.moveTo(a,c);var y=2*Math.PI*h*b/r;if(a+=v*Math.cos(m+y),c+=v*Math.sin(m+y),e.lineTo(a,c),e.stroke(),p(a,c,u,s)<5&&f>30)break}e.beginPath(),e.moveTo(a,c),e.lineTo(u,s),e.stroke()}},p=function(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))},j=function(){for(var e=[],t=n.length,r=0;r<t;r++){for(var a=0,c=0,o=0;o<t;o++){var u=2*Math.PI*r*o/t;a+=n[o].x*Math.cos(u),c-=n[o].x*Math.sin(u),c+=n[o].y*Math.cos(u),a+=n[o].y*Math.sin(u)}var i=Math.sqrt(a*a+c*c),l=Math.atan2(c,a);e.push({norm:i,angle:l,speed:r})}e.sort((function(e,t){return t.norm-e.norm})),g.current=e};return a.a.createElement(a.a.Fragment,null,a.a.createElement("canvas",{ref:d}),a.a.createElement("canvas",{ref:m}))}n(9);o.a.render(a.a.createElement((function(){var e=Object(r.useRef)([]),t=Object(r.useState)(!1),n=Object(u.a)(t,2),c=n[0],o=n[1],i=function(){var e=Object(r.useState)([0,0]),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),f=Object(u.a)(i,2),h=f[0],v=f[1];return Object(r.useEffect)((function(){o(!1)}),[h,v]),a.a.createElement(a.a.Fragment,null,a.a.createElement(l,{className:"top center absolute",width:h,height:v,addpoint:function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";switch(a){case"reset":e.current=[];break;case"new":var c=e.current.slice();e.current=c;break;default:e.current.push({x:t,y:n,connected:r})}},toggleanimation:function(){return o(!c)},hide:c}),a.a.createElement(s,{className:"center absolute",width:h,height:v,animate:c,path:e.current}))}),null),document.getElementById("root"))},4:function(e,t,n){e.exports=n(10)},9:function(e,t,n){}},[[4,1,2]]]);
//# sourceMappingURL=main.6226fb23.chunk.js.map