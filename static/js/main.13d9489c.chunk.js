(this.webpackJsonpfouriercanvas=this.webpackJsonpfouriercanvas||[]).push([[0],{34:function(e,t,n){e.exports=n(44)},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),u=n(9),l=n(18),i=n(67);function s(e){var t=Object(a.useState)({x:0,y:0}),n=Object(u.a)(t,2),c=n[0],o=n[1],l=Object(a.useRef)(null),i={position:"absolute",zIndex:e.zIndex,left:c.x,top:c.y,cursor:"pointer",border:"thick double #3f51b5",backgroundColor:"white",padding:30},s=Object(a.useRef)(!1),f=function(e){s.current=!1};return r.a.createElement("div",{ref:l,style:i,onMouseDown:function(e){e.target==l.current&&(s.current=!0)},onMouseMove:function(e){if(s.current){var t=[e.movementX,e.movementY],n=t[0],a=t[1];o({x:c.x+n,y:c.y+a})}},onMouseUp:f,onMouseLeave:f},e.children)}function f(e){var t=e.width,n=e.height,c=e.image,o=e.hideImage,i=e.scale,s=void 0===i?1:i,f=Object(a.useState)({x:0,y:0}),m=Object(u.a)(f,2),g=m[0],h=m[1],d=Object(a.useRef)(null),v=Object(a.useRef)(!1);Object(a.useEffect)((function(){var e=d.current.getContext("2d");e.globalAlpha=.8,e.clearRect(0,0,t,n),null==c||o||e.drawImage(c,g.x,g.y,c.width*s,c.height*s)}),[c,t,n,o,s,g]);var b=function(e){v.current=!1};return r.a.createElement("canvas",{ref:d,style:Object(l.a)({position:"absolute"},e.style),className:e.className,width:t,height:n,onMouseDown:function(){v.current=!0},onMouseMove:function(e){if(v.current){var t=[e.movementX,e.movementY],n=t[0],a=t[1];h({x:g.x+n,y:g.y+a})}},onMouseUp:b,onMouseLeave:b})}var m=n(68),g=n(65),h=n(71),d=n(70),v=n(45);function b(e){var t=e.values,n=e.onChange,a=e.defaultvalue;return r.a.createElement(v.a,{column:!0},r.a.createElement(d.a,{component:"legend",style:{color:"black",margin:5}},"Stroke Style"),r.a.createElement(g.a,{name:"StrokeStyle",onChange:n,row:!0,defaultValue:a.current},t.map((function(e,t){return r.a.createElement(h.a,{value:e,label:e,labelPlacement:"end",control:r.a.createElement(m.a,{color:"primary"})})}))))}var y=n(66),x=n(69);function p(e){var t=Object(a.useRef)(null),n=e.switchvalue,c=e.onswitch,o=e.imageChange,u=e.hideImage,l=e.toggleHideImage,s=e.scale,f=e.scaleChange;return r.a.createElement(v.a,{column:!0},r.a.createElement(d.a,{component:"legend",style:{color:"black",margin:5}},"Reference Image"),r.a.createElement(v.a,{row:!0},r.a.createElement(h.a,{control:r.a.createElement(y.a,{checked:n,onChange:c,color:"primary"}),label:"Drag Image"}),r.a.createElement(h.a,{control:r.a.createElement(y.a,{checked:u,onChange:l,color:"primary"}),label:"Hide Image"})),r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){t.current.click()}},"Upload Image"),r.a.createElement(d.a,{component:"legend",style:{color:"black",margin:5}},"Image Scale"),r.a.createElement(x.a,{value:s,onChange:f,min:0,max:200,"aria-labelledby":"input-slider"}),r.a.createElement("input",{ref:t,type:"file",accept:"image/*",onChange:o,style:{display:"none"}}))}function E(e){var t=e.width,n=e.height,c=e.hide,o=e.addpoint,m=e.resetpath,g={x:t/2,y:n/2},h={display:c?"none":""},d={margin:5},v=Object(a.useRef)(null),y=Object(a.useRef)("stroke"),x=Object(a.useRef)(!1),E=Object(a.useRef)(null),j=Object(a.useState)(null),O=Object(u.a)(j,2),w=O[0],M=O[1],k=Object(a.useState)(!1),C=Object(u.a)(k,2),I=C[0],R=C[1],S=Object(a.useState)(!1),T=Object(u.a)(S,2),P=T[0],z=T[1],N=Object(a.useState)(100),D=Object(u.a)(N,2),L=D[0],U=D[1];Object(a.useEffect)((function(){var e=v.current.getContext("2d");e.resetTransform(),e.clearRect(0,0,t,n),e.translate(g.x,g.y),y.current="stroke"}),[t,n]);var F=function(e){var t=v.current.getBoundingClientRect(),n=t.top,a=t.left;return{x:e.clientX-a-g.x,y:e.clientY-n-g.y}},H=function(e){var t=F(e),n=t.x,a=t.y;if(null==E.current)o(n,a,!1),E.current={x:n,y:a};else{var r=v.current.getContext("2d");r.beginPath(),r.moveTo(E.current.x,E.current.y),r.lineTo(n,a),r.stroke(),function(e,t,n,a){for(var r=e-n,c=t-a,u=Math.hypot(r,c),l=Math.max(1,u/20),i=1;i<l;i++){o(n+i*r/l,a+i*c/l,!0)}o(e,t,!0)}(n,a,E.current.x,E.current.y),"segment"==y.current?E.current=null:E.current={x:n,y:a}}},A=function(e){x.current=!1};return r.a.createElement(r.a.Fragment,null,r.a.createElement("canvas",{ref:v,className:e.className,style:h,width:t,height:n,onMouseDown:function(e){switch(x.current=!0,y.current){case"tracing":case"segment":H(e);break;case"stroke":!function(e){var t=F(e),n=t.x,a=t.y;o(n,a,!1),E.current={x:n,y:a}}(e)}},onMouseMove:function(e){x.current&&"segment"!=y.current&&function(e){var t=v.current.getContext("2d"),n=F(e),a=n.x,r=n.y;t.beginPath(),t.moveTo(E.current.x,E.current.y),t.lineTo(a,r),E.current={x:a,y:r},t.stroke(),o(a,r,!0)}(e)},onMouseUp:A,onMouseLeave:A}),r.a.createElement(f,{width:t,height:n,style:{zIndex:c?2:I?11:9,cursor:!c&&I?"grab":""},zIndex:c?2:I?11:9,scale:.01*L,image:w,hideImage:P}),r.a.createElement(s,{zIndex:20},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:e.toggleanimation,style:d},c?"Stop":"Start"," Animation"),r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){m();var e=v.current.getContext("2d");e.resetTransform(),e.clearRect(0,0,t,n),e.translate(g.x,g.y),E.current=null},style:Object(l.a)({},h,{},d)},"Clear")),r.a.createElement("div",{style:{display:c?"none":""}},r.a.createElement(p,{switchvalue:I,onswitch:function(){return R(!I)},hideImage:P,toggleHideImage:function(){return z(!P)},scale:L,scaleChange:function(e,t){return U(t)},imageChange:function(e){if(e.target.files&&e.target.files[0]){var t=new FileReader;t.onload=function(e){var t=new Image;t.onload=function(){M(t)},t.src=e.target.result},t.readAsDataURL(e.target.files[0])}}}),r.a.createElement(b,{defaultvalue:y,values:["stroke","tracing","segment"],onChange:function(e){return t=e.target.value,y.current=t,void("segment"==t&&(E.current=null));var t}}))))}function j(e){var t=e.path,n=void 0===t?[]:t,c=e.animate,o=void 0!==c&&c,l=e.width,i=e.height,s=Object(a.useState)(0),f=Object(u.a)(s,2),m=f[0],g=f[1],h=Object(a.useRef)(null),d=Object(a.useRef)(null),v={x:l/2,y:i/2},b=Object(a.useRef)([]);Object(a.useEffect)((function(){[h,d].forEach((function(t){var n=t.current;n.className=e.className,n.width=l,n.height=i;var a=n.getContext("2d");a.resetTransform(),a.translate(v.x,v.y),a.clearRect(-v.x,-v.y,l,i)}))}),[l,i]),Object(a.useEffect)((function(){h.current.getContext("2d").clearRect(-v.x,-v.y,l,i),p(),g(0)}),[n]),Object(a.useEffect)((function(){var e=null;return o&&n.length>0?e=setInterval((function(){x(),y(),g((function(e){return e+1}))}),Math.min(1e4/n.length,50)):(clearInterval(e),h.current.getContext("2d").clearRect(-v.x,-v.y,l,i),d.current.getContext("2d").clearRect(-v.x,-v.y,l,i)),function(){return clearInterval(e)}}),[o,m]);var y=function(){var e=d.current.getContext("2d"),t=n.length;if(t>1){var a=m%t;switch(a>0){case!1:e.clearRect(-v.x,-v.y,l,i);break;case!0:var r=n[a].connected?(a-1)%t:a;e.beginPath(),e.moveTo(n[r].x,n[r].y),e.lineTo(n[a].x,n[a].y),e.stroke()}}},x=function(){var e=h.current.getContext("2d");e.clearRect(-v.x,-v.y,l,i),e.strokeStyle="#669999";var t=b.current,a=t.length;if(a>1){for(var r=0,c=0,o=n[m%a],u=o.x,s=o.y,f=0;f<a;f++){var g=t[f].norm/a,d=t[f].angle,y=t[f].speed;e.beginPath(),e.arc(r,c,g,0,2*Math.PI),e.stroke(),e.beginPath(),e.moveTo(r,c);var x=2*Math.PI*m*y/a;if(r+=g*Math.cos(d+x),c+=g*Math.sin(d+x),e.lineTo(r,c),e.stroke(),Math.hypot(u-r,s-c)<5&&f>30)break}e.beginPath(),e.moveTo(r,c),e.lineTo(u,s),e.stroke()}},p=function(){for(var e=[],t=n.length,a=0;a<t;a++){for(var r=0,c=0,o=0;o<t;o++){var u=2*Math.PI*a*o/t;r+=n[o].x*Math.cos(u),c-=n[o].x*Math.sin(u),c+=n[o].y*Math.cos(u),r+=n[o].y*Math.sin(u)}var l=Math.sqrt(r*r+c*c),i=Math.atan2(c,r);e.push({norm:l,angle:i,speed:a})}e.sort((function(e,t){return t.norm-e.norm})),b.current=e};return r.a.createElement(r.a.Fragment,null,r.a.createElement("canvas",{ref:h,style:{zIndex:5}}),r.a.createElement("canvas",{ref:d,style:{zIndex:5}}))}n(43);o.a.render(r.a.createElement((function(){var e=Object(a.useRef)([]),t=Object(a.useRef)(!1),n=Object(a.useState)(!1),c=Object(u.a)(n,2),o=c[0],l=c[1],i=function(){var e=Object(a.useState)([0,0]),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),s=Object(u.a)(i,2),f=s[0],m=s[1];return Object(a.useEffect)((function(){l(!1)}),[f,m]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{className:"top center absolute",width:f,height:m,addpoint:function(n,a){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.current=!0,e.current.push({x:n,y:a,connected:r})},resetpath:function(){t.current=!0,e.current=[]},toggleanimation:function(){if(t.current){t.current=!0;var n=e.current.slice();e.current=n}l(!o)},hide:o}),r.a.createElement(j,{className:"center absolute",width:f,height:m,animate:o,path:e.current}))}),null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.13d9489c.chunk.js.map