(this.webpackJsonpfouriercanvas=this.webpackJsonpfouriercanvas||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(3),o=n.n(a),u=n(1);function i(e){var t=Object(r.useState)({x:0,y:0}),n=Object(u.a)(t,2),a=n[0],o=n[1],i={position:"absolute",zIndex:e.zIndex,left:a.x,top:a.y},s=Object(r.useRef)(null),l=Object(r.useRef)(!1),f=function(e){l.current=!1};return c.a.createElement("div",{style:i},c.a.createElement("div",{ref:s,style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"lightblue",cursor:"pointer",Width:200,padding:20},onMouseDown:function(){l.current=!0},onMouseMove:function(e){if(l.current){var t=[e.movementX,e.movementY],n=t[0],r=t[1];o({x:a.x+n,y:a.y+r})}},onMouseUp:f,onMouseLeave:f},"Click Here to Drag"),e.children)}function s(e){var t=e.width,n=e.height,a=e.hide,o=e.addpoint,u={x:t/2,y:n/2},s={display:a?"none":""},l=Object(r.useRef)(null),f=Object(r.useRef)("stroke"),h=Object(r.useRef)(!1),v=Object(r.useRef)(null);Object(r.useEffect)((function(){var r=l.current;r.className=e.className,r.width=t,r.height=n;var c=r.getContext("2d");c.resetTransform(),c.clearRect(0,0,t,n),c.translate(u.x,u.y)}),[t,n]);var m=function(e){var t=l.current.getBoundingClientRect(),n=t.top,r=t.left;return{x:e.clientX-r-u.x,y:e.clientY-n-u.y}},d=function(e){var t=m(e),n=t.x,r=t.y;if(null==v.current)o(n,r,!1),v.current={x:n,y:r};else{var c=l.current.getContext("2d");c.beginPath(),c.moveTo(v.current.x,v.current.y),c.lineTo(n,r),c.stroke(),function(e,t,n,r){for(var c=e-n,a=t-r,u=Math.hypot(c,a),i=Math.max(1,u/20),s=1;s<i;s++){o(n+s*c/i,r+s*a/i,!0)}o(e,t,!0)}(n,r,v.current.x,v.current.y),"segment"==f.current?v.current=null:v.current={x:n,y:r}}},g=function(e){h.current=!1,o(0,0,!0,"new")},x=function(e){f.current=e,"segment"==e&&(v.current=null)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("canvas",{ref:l,style:s,onMouseDown:function(e){switch(h.current=!0,f.current){case"tracing":case"segment":d(e);break;case"stroke":!function(e){var t=m(e),n=t.x,r=t.y;o(n,r,!1),v.current={x:n,y:r}}(e)}},onMouseMove:function(e){h.current&&"segment"!=f.current&&function(e){var t=l.current.getContext("2d"),n=m(e),r=n.x,c=n.y;t.beginPath(),t.moveTo(v.current.x,v.current.y),t.lineTo(r,c),v.current={x:r,y:c},t.stroke(),o(r,c,!0)}(e)},onMouseUp:g,onMouseLeave:g}),c.a.createElement(i,{zIndex:20},c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},c.a.createElement("button",{onClick:e.toggleanimation},a?"Stop":"Start"," Animation"),c.a.createElement("button",{onClick:function(){o(0,0,!1,"reset");var e=l.current.getContext("2d");e.resetTransform(),e.clearRect(0,0,t,n),e.translate(u.x,u.y),v.current=null},style:s},"Clear"),c.a.createElement("button",{onClick:function(){return x("stroke")},style:s},"Stroke"),c.a.createElement("button",{onClick:function(){return x("tracing")},style:s},"Trace"),c.a.createElement("button",{onClick:function(){return x("segment")},style:s},"Segment"))))}function l(e){var t=e.path,n=void 0===t?[]:t,a=e.animate,o=void 0!==a&&a,i=e.width,s=e.height,l=Object(r.useState)(0),f=Object(u.a)(l,2),h=f[0],v=f[1],m=Object(r.useRef)(null),d=Object(r.useRef)(null),g={x:i/2,y:s/2},x=Object(r.useRef)([]);Object(r.useEffect)((function(){[m,d].forEach((function(t){var n=t.current;n.className=e.className,n.width=i,n.height=s;var r=n.getContext("2d");r.resetTransform(),r.translate(g.x,g.y),r.clearRect(-g.x,-g.y,i,s)}))}),[i,s]),Object(r.useEffect)((function(){m.current.getContext("2d").clearRect(-g.x,-g.y,i,s),p(),v(0)}),[n]),Object(r.useEffect)((function(){var e=null;return o&&n.length>0?e=setInterval((function(){b(),y(),v((function(e){return e+1}))}),Math.min(1e4/n.length,50)):(clearInterval(e),m.current.getContext("2d").clearRect(-g.x,-g.y,i,s),d.current.getContext("2d").clearRect(-g.x,-g.y,i,s)),function(){return clearInterval(e)}}),[o,h]);var y=function(){var e=d.current.getContext("2d"),t=n.length;if(t>1){var r=h%t;switch(r>0){case!1:e.clearRect(-g.x,-g.y,i,s);break;case!0:var c=n[r].connected?(r-1)%t:r;e.beginPath(),e.moveTo(n[c].x,n[c].y),e.lineTo(n[r].x,n[r].y),e.stroke()}}},b=function(){var e=m.current.getContext("2d");e.clearRect(-g.x,-g.y,i,s),e.strokeStyle="#669999";var t=x.current,r=t.length;if(r>1){for(var c=0,a=0,o=n[h%r],u=o.x,l=o.y,f=0;f<r;f++){var v=t[f].norm/r,d=t[f].angle,y=t[f].speed;e.beginPath(),e.arc(c,a,v,0,2*Math.PI),e.stroke(),e.beginPath(),e.moveTo(c,a);var b=2*Math.PI*h*y/r;if(c+=v*Math.cos(d+b),a+=v*Math.sin(d+b),e.lineTo(c,a),e.stroke(),Math.hypot(u-c,l-a)<5&&f>30)break}e.beginPath(),e.moveTo(c,a),e.lineTo(u,l),e.stroke()}},p=function(){for(var e=[],t=n.length,r=0;r<t;r++){for(var c=0,a=0,o=0;o<t;o++){var u=2*Math.PI*r*o/t;c+=n[o].x*Math.cos(u),a-=n[o].x*Math.sin(u),a+=n[o].y*Math.cos(u),c+=n[o].y*Math.sin(u)}var i=Math.sqrt(c*c+a*a),s=Math.atan2(a,c);e.push({norm:i,angle:s,speed:r})}e.sort((function(e,t){return t.norm-e.norm})),x.current=e};return c.a.createElement(c.a.Fragment,null,c.a.createElement("canvas",{ref:m}),c.a.createElement("canvas",{ref:d}))}n(9);o.a.render(c.a.createElement((function(){var e=Object(r.useRef)([]),t=Object(r.useState)(!1),n=Object(u.a)(t,2),a=n[0],o=n[1],i=function(){var e=Object(r.useState)([0,0]),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){c([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),f=Object(u.a)(i,2),h=f[0],v=f[1];return Object(r.useEffect)((function(){o(!1)}),[h,v]),c.a.createElement(c.a.Fragment,null,c.a.createElement(s,{className:"top center absolute",width:h,height:v,addpoint:function(t,n,r){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";switch(c){case"reset":e.current=[];break;case"new":var a=e.current.slice();e.current=a;break;default:e.current.push({x:t,y:n,connected:r})}},toggleanimation:function(){return o(!a)},hide:a}),c.a.createElement(l,{className:"center absolute",width:h,height:v,animate:a,path:e.current}))}),null),document.getElementById("root"))},4:function(e,t,n){e.exports=n(10)},9:function(e,t,n){}},[[4,1,2]]]);
//# sourceMappingURL=main.97fb9857.chunk.js.map